<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Plan optimal sample size allocation and go/no-go decision rules
  for phase II/III drug development programs with time-to-event, binary or
  normally distributed endpoints when assuming fixed treatment effects or a
  prior distribution for the treatment effect, using methods from Kirchner et al.
  (2016) &lt;doi:10.1002/sim.6624&gt; and Preussler (2020). Optimal is in the sense of
  maximal expected utility, where the utility is a function taking into account
  the expected cost and benefit of the program. It is possible to extend to more
  complex settings with bias correction (Preussler S et al. (2020)
  &lt;doi:10.1186/s12874-020-01093-w&gt;),  multiple phase III trials (Preussler et
  al. (2019) &lt;doi:10.1002/bimj.201700241&gt;), multi-arm trials (Preussler et al.
  (2019) &lt;doi:10.1080/19466315.2019.1702092&gt;), and multiple endpoints
  (Kieser et al. (2018) &lt;doi:10.1002/pst.1861&gt;).">
<title>Utility-Based Optimal Phase II/III Drug Development Planning  • drugdevelopR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Utility-Based Optimal Phase II/III Drug Development Planning ">
<meta property="og:description" content="Plan optimal sample size allocation and go/no-go decision rules
  for phase II/III drug development programs with time-to-event, binary or
  normally distributed endpoints when assuming fixed treatment effects or a
  prior distribution for the treatment effect, using methods from Kirchner et al.
  (2016) &lt;doi:10.1002/sim.6624&gt; and Preussler (2020). Optimal is in the sense of
  maximal expected utility, where the utility is a function taking into account
  the expected cost and benefit of the program. It is possible to extend to more
  complex settings with bias correction (Preussler S et al. (2020)
  &lt;doi:10.1186/s12874-020-01093-w&gt;),  multiple phase III trials (Preussler et
  al. (2019) &lt;doi:10.1002/bimj.201700241&gt;), multi-arm trials (Preussler et al.
  (2019) &lt;doi:10.1080/19466315.2019.1702092&gt;), and multiple endpoints
  (Kieser et al. (2018) &lt;doi:10.1002/pst.1861&gt;).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">drugdevelopR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Introduction-to-drugdevelopR.html">Introduction to planning phase II and phase III trials with drugdevelopR</a>
    <a class="dropdown-item" href="articles/Package_validation.html">Package validation</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Sterniii3/drugdevelopR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="drugdevelopr-utility-based-optimal-phase-iiiii-drug-development-planning">drugdevelopR: Utility-based optimal phase II/III drug development planning.<a class="anchor" aria-label="anchor" href="#drugdevelopr-utility-based-optimal-phase-iiiii-drug-development-planning"></a>
</h1></div>
<!-- badges: start -->

<p>The drugdevelopR package enables you to plan phase II/III drug development programs with optimal sample size allocation and go/no-go decision rules. The assumed true treatment effects can be fixed or modelled by a prior distribution. The corresponding <a href="https://web.imbi.uni-heidelberg.de/drugdevelopR/" class="external-link">R Shiny application</a> has a graphic user interface for the package and thus makes it accessible for users without prior knowledge of R. Fast computing is made possible by parallel programming. theoretical foundations for this package were laid in the dissertation “Integrated Planning of Pilot and Subsequent Confirmatory Study in Clinical Research – Finding Optimal Designs in a Utility-Based Framework” by Stella Erdmann at the Institute of Medical Biometry at the University of Heidelberg.</p>
<p>On the package webpage, we supply <a href="https://sterniii3.github.io/drugdevelopR/reference/index.html">full documentation</a> of all functions as well as a <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">tutorial for getting started</a> with drugdevelopR.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version of the package directly from <a href="https://github.com/Sterniii3/drugdevelopR/" class="external-link">GitHub</a> using the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span><span class="op">}</span> </span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Sterniii3/drugdevelopR"</span><span class="op">)</span></span></code></pre></div>
<p>and access the drugdevelopR App via <a href="https://web.imbi.uni-heidelberg.de/drugdevelopR/" class="external-link uri">https://web.imbi.uni-heidelberg.de/drugdevelopR/</a>.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Here is a basic example for applying drugdevelopR to a drug development program with a normally distributed outcome:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Sterniii3/drugdevelopR" class="external-link">drugdevelopR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Lade nötiges Paket: doParallel</span></span>
<span><span class="co">#&gt; Lade nötiges Paket: foreach</span></span>
<span><span class="co">#&gt; Lade nötiges Paket: iterators</span></span>
<span><span class="co">#&gt; Lade nötiges Paket: parallel</span></span>
<span><span class="co">#&gt; Lade nötiges Paket: progressr</span></span>
<span><span class="co"># Optimize</span></span>
<span><span class="fu"><a href="reference/optimal_normal.html">optimal_normal</a></span><span class="op">(</span>Delta1 <span class="op">=</span> <span class="fl">0.625</span>, Delta2 <span class="op">=</span> <span class="fl">0.8</span>, fixed <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># treatment effect</span></span>
<span>               n2min <span class="op">=</span> <span class="fl">20</span>, n2max <span class="op">=</span> <span class="fl">400</span>, <span class="co"># sample size region</span></span>
<span>               stepn2 <span class="op">=</span> <span class="fl">4</span>, <span class="co"># sample size step size</span></span>
<span>               kappamin <span class="op">=</span> <span class="fl">0.02</span>, kappamax <span class="op">=</span> <span class="fl">0.2</span>, <span class="co"># threshold region</span></span>
<span>               stepkappa <span class="op">=</span> <span class="fl">0.02</span>, <span class="co"># threshold step size</span></span>
<span>               c2 <span class="op">=</span> <span class="fl">0.675</span>, c3 <span class="op">=</span> <span class="fl">0.72</span>, <span class="co"># maximal total trial costs</span></span>
<span>               c02 <span class="op">=</span> <span class="fl">15</span>, c03 <span class="op">=</span> <span class="fl">20</span>, <span class="co"># maximal per-patient costs</span></span>
<span>               b1 <span class="op">=</span> <span class="fl">3000</span>, b2 <span class="op">=</span> <span class="fl">8000</span>, b3 <span class="op">=</span> <span class="fl">10000</span>, <span class="co"># gains for patients</span></span>
<span>               alpha <span class="op">=</span> <span class="fl">0.025</span>, <span class="co"># one-sided significance level</span></span>
<span>               beta <span class="op">=</span> <span class="fl">0.1</span>, <span class="co"># 1 - power</span></span>
<span>               w <span class="op">=</span> <span class="fl">0.6</span>, in1 <span class="op">=</span> <span class="fl">300</span>, in2 <span class="op">=</span> <span class="fl">600</span>, <span class="co"># weight and amount of information</span></span>
<span>               a <span class="op">=</span> <span class="fl">0.25</span>, b <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="co"># truncation values</span></span>
<span><span class="co">#&gt; Optimization result:</span></span>
<span><span class="co">#&gt;  Utility: 3073.85</span></span>
<span><span class="co">#&gt;  Sample size:</span></span>
<span><span class="co">#&gt;    phase II: 84, phase III: 194, total: 278</span></span>
<span><span class="co">#&gt;  Probability to go to phase III: 0.99</span></span>
<span><span class="co">#&gt;  Total cost:</span></span>
<span><span class="co">#&gt;    phase II: 72, phase III: 160, cost constraint: Inf</span></span>
<span><span class="co">#&gt;  Fixed cost:</span></span>
<span><span class="co">#&gt;    phase II: 15, phase III: 20</span></span>
<span><span class="co">#&gt;  Variable cost per patient:</span></span>
<span><span class="co">#&gt;    phase II: 0.675, phase III: 0.72</span></span>
<span><span class="co">#&gt;  Effect size categories (expected gains):</span></span>
<span><span class="co">#&gt;   small: 0 (3000), medium: 0.5 (8000), large: 0.8 (10000)</span></span>
<span><span class="co">#&gt;  Success probability: 0.85</span></span>
<span><span class="co">#&gt;  Success probability by effect size:</span></span>
<span><span class="co">#&gt;    small: 0.69, medium: 0.15, large: 0.01</span></span>
<span><span class="co">#&gt;  Significance level: 0.025</span></span>
<span><span class="co">#&gt;  Targeted power: 0.9</span></span>
<span><span class="co">#&gt;  Decision rule threshold: 0.06 [Kappa] </span></span>
<span><span class="co">#&gt;  Parameters of the prior distribution: </span></span>
<span><span class="co">#&gt;    Delta1: 0.625, Delta2: 0.8, in1: 300, in2: 600,</span></span>
<span><span class="co">#&gt;    a: 0.25, b: 0.75, w: 0.6</span></span>
<span><span class="co">#&gt;  Treatment effect offset between phase II and III: 0 [gamma]</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="drugdevelopr-functions">drugdevelopR functions<a class="anchor" aria-label="anchor" href="#drugdevelopr-functions"></a>
</h2>
<p>The drugdevelopR package provides the functions</p>
<ul>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_tte.html"><code>optimal_tte</code></a>,</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_binary.html"><code>optimal_binary</code></a>, and</li>
<li><a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_normal.html"><code>optimal_normal</code></a></li>
</ul>
<p>to plan optimal phase II/III drug development programs with</p>
<ul>
<li>time-to-event (treatment effect measured by hazard ratio, <em>HR</em>),</li>
<li>binary (treatment effect measured by risk ratio, <em>RR</em>), or</li>
<li>normally distributed (treatment effect measured by standardized difference in means, <em>Delta</em>)</li>
</ul>
<p>endpoints, where the treatment effect is modelled on a <a href="https://web.imbi.uni-heidelberg.de/prior/" class="external-link">prior distribution</a>. Optimal phase II/III drug development planning with fixed treatment effects can be done with the help of the R Shiny application <a href="https://web.imbi.uni-heidelberg.de/basic/" class="external-link">basic</a>.</p>
<p>Extensions to the basic setting are:</p>
<ul>
<li>optimal planning of programs including methods for discounting of phase II results (function: <a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_bias.html">optimal_bias</a>, App: <a href="https://web.imbi.uni-heidelberg.de/bias/" class="external-link">bias</a>),</li>
<li>optimal planning of programs with several phase III trials (function: <a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_multitrial.html">optimal_multitrial</a>, App: <a href="https://web.imbi.uni-heidelberg.de/multitrial/" class="external-link">multitrial</a>) and</li>
<li>optimal planning of programs with multiple arms (function: <a href="https://sterniii3.github.io/drugdevelopR/reference/optimal_multiarm.html">optimal_multiarm</a>, App: <a href="https://web.imbi.uni-heidelberg.de/multiarm/" class="external-link">multiarm</a>).</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Sterniii3/drugdevelopR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Sterniii3/drugdevelopR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing drugdevelopR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Stella Erdmann <br><small class="roles"> Author </small>  </li>
<li>Johannes Cepicka <br><small class="roles"> Author </small>  </li>
<li>Marietta Kirchner <br><small class="roles"> Author </small>  </li>
<li>Meinhard Kieser <br><small class="roles"> Author </small>  </li>
<li>Lukas D. Sauer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1340-9994" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=drugdevelopR" class="external-link"><img src="https://www.r-pkg.org/badges/version/drugdevelopR" alt="CRAN status"></a></li>
<li><a href="https://github.com/Sterniii3/drugdevelopR/actions" class="external-link"><img src="https://github.com/Sterniii3/drugdevelopR/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/Sterniii3/drugdevelopR?branch=master" class="external-link"><img src="https://codecov.io/gh/Sterniii3/drugdevelopR/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stella Erdmann, Johannes Cepicka, Marietta Kirchner, Meinhard Kieser, Lukas D. Sauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
