<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The function optimal_tte of the drugdevelopR
package enables planning of phase II/III drug development programs with optimal
sample size allocation and go/no-go decision rules for time-to-event endpoints
(Kirchner et al., 2016). The assumed true treatment effects can be assumed to
be fixed or modelled by
a prior distribution. When assuming fixed true treatment effects, planning can
also be done with the user-friendly R Shiny app
basic.
The app prior visualizes
the prior distributions used in this package. Fast computing is enabled by
parallel programming.
The functions optimal_tte and optimal_tte_graphic return the same output (given the same input values).
However, optimal_tte_graphic further returns graphical output to accompany the results."><title>Optimal phase II/III drug development planning with time-to-event endpoint — optimal_tte • drugdevelopR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Optimal phase II/III drug development planning with time-to-event endpoint — optimal_tte"><meta property="og:description" content="The function optimal_tte of the drugdevelopR
package enables planning of phase II/III drug development programs with optimal
sample size allocation and go/no-go decision rules for time-to-event endpoints
(Kirchner et al., 2016). The assumed true treatment effects can be assumed to
be fixed or modelled by
a prior distribution. When assuming fixed true treatment effects, planning can
also be done with the user-friendly R Shiny app
basic.
The app prior visualizes
the prior distributions used in this package. Fast computing is enabled by
parallel programming.
The functions optimal_tte and optimal_tte_graphic return the same output (given the same input values).
However, optimal_tte_graphic further returns graphical output to accompany the results."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">drugdevelopR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Bias_adjustment.html">Methods for Discounting of Phase II Results - Bias Adjustment</a>
    <a class="dropdown-item" href="../articles/Binary_distributed_outcomes.html">Binary Distributed Outcome Variables</a>
    <a class="dropdown-item" href="../articles/Fixed_and_prior_distributions.html">Fixed effects and prior distributions</a>
    <a class="dropdown-item" href="../articles/Interpreting_Output.html">Interpreting the Rest of the Output</a>
    <a class="dropdown-item" href="../articles/More_Parameters.html">More Parameters to Adapt to Specific Settings and Individual Needs</a>
    <a class="dropdown-item" href="../articles/Multiarm_Trials.html">Multiarm_Trials</a>
    <a class="dropdown-item" href="../articles/Multiple_Endpoints.html">Multiple_Endpoints</a>
    <a class="dropdown-item" href="../articles/Multitrial.html">Multitrial Programs - Methods for Programs with Several Phase III Trials</a>
    <a class="dropdown-item" href="../articles/Time-to-event_outcomes.html">Time-to-event Outcome Variables</a>
    <a class="dropdown-item" href="../articles/introduction-to-drugdevelopR.html">Introduction to planning phase II and phase III trials with drugdevelopR</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Sterniii3/drugdevelopR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Optimal phase II/III drug development planning with time-to-event endpoint</h1>
      <small class="dont-index">Source: <a href="https://github.com/Sterniii3/drugdevelopR/blob/HEAD/R/optimal_tte.R" class="external-link"><code>R/optimal_tte.R</code></a>, <a href="https://github.com/Sterniii3/drugdevelopR/blob/HEAD/R/optimal_tte_graphic.R" class="external-link"><code>R/optimal_tte_graphic.R</code></a></small>
      <div class="d-none name"><code>optimal_tte.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>optimal_tte</code> of the <code><a href="drugdevelopR.html">drugdevelopR</a></code>
package enables planning of phase II/III drug development programs with optimal
sample size allocation and go/no-go decision rules for time-to-event endpoints
(Kirchner et al., 2016). The assumed true treatment effects can be assumed to
be fixed or modelled by
a prior distribution. When assuming fixed true treatment effects, planning can
also be done with the user-friendly R Shiny app
<a href="https://web.imbi.uni-heidelberg.de/basic/" class="external-link">basic</a>.
The app <a href="https://web.imbi.uni-heidelberg.de/prior/" class="external-link">prior</a> visualizes
the prior distributions used in this package. Fast computing is enabled by
parallel programming.</p>
<p>The functions <code>optimal_tte</code> and <code>optimal_tte_graphic</code> return the same output (given the same input values).
However, <code>optimal_tte_graphic</code> further returns graphical output to accompany the results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">optimal_tte</span><span class="op">(</span></span>
<span>  <span class="va">w</span>,</span>
<span>  <span class="va">hr1</span>,</span>
<span>  <span class="va">hr2</span>,</span>
<span>  <span class="va">id1</span>,</span>
<span>  <span class="va">id2</span>,</span>
<span>  <span class="va">d2min</span>,</span>
<span>  <span class="va">d2max</span>,</span>
<span>  <span class="va">stepd2</span>,</span>
<span>  <span class="va">hrgomin</span>,</span>
<span>  <span class="va">hrgomax</span>,</span>
<span>  <span class="va">stephrgo</span>,</span>
<span>  <span class="va">alpha</span>,</span>
<span>  <span class="va">beta</span>,</span>
<span>  <span class="va">xi2</span>,</span>
<span>  <span class="va">xi3</span>,</span>
<span>  <span class="va">c2</span>,</span>
<span>  <span class="va">c3</span>,</span>
<span>  <span class="va">c02</span>,</span>
<span>  <span class="va">c03</span>,</span>
<span>  K <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  N <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  S <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  steps1 <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  stepm1 <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  stepl1 <span class="op">=</span> <span class="fl">0.85</span>,</span>
<span>  <span class="va">b1</span>,</span>
<span>  <span class="va">b2</span>,</span>
<span>  <span class="va">b3</span>,</span>
<span>  gamma <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  skipII <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_cl <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">optimal_tte_graphic</span><span class="op">(</span></span>
<span>  <span class="va">w</span>,</span>
<span>  <span class="va">hr1</span>,</span>
<span>  <span class="va">hr2</span>,</span>
<span>  <span class="va">id1</span>,</span>
<span>  <span class="va">id2</span>,</span>
<span>  <span class="va">d2min</span>,</span>
<span>  <span class="va">d2max</span>,</span>
<span>  <span class="va">stepd2</span>,</span>
<span>  <span class="va">hrgomin</span>,</span>
<span>  <span class="va">hrgomax</span>,</span>
<span>  <span class="va">stephrgo</span>,</span>
<span>  <span class="va">alpha</span>,</span>
<span>  <span class="va">beta</span>,</span>
<span>  <span class="va">xi2</span>,</span>
<span>  <span class="va">xi3</span>,</span>
<span>  <span class="va">c2</span>,</span>
<span>  <span class="va">c3</span>,</span>
<span>  <span class="va">c02</span>,</span>
<span>  <span class="va">c03</span>,</span>
<span>  K <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  N <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  S <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  steps1 <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  stepm1 <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  stepl1 <span class="op">=</span> <span class="fl">0.85</span>,</span>
<span>  <span class="va">b1</span>,</span>
<span>  <span class="va">b2</span>,</span>
<span>  <span class="va">b3</span>,</span>
<span>  gamma <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  skipII <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_cl <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>data.frame containing the optimization results (see Value)</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>w</dt>
<dd><p>weight for mixture prior distribution, see
<a href="https://web.imbi.uni-heidelberg.de/prior/" class="external-link">this Shiny application</a>
for the choice of weights</p></dd>


<dt>hr1</dt>
<dd><p>first assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/" class="external-link">prior distribution</a></p></dd>


<dt>hr2</dt>
<dd><p>second assumed true treatment effect on HR scale for <a href="https://web.imbi.uni-heidelberg.de/prior/" class="external-link">prior distribution</a></p></dd>


<dt>id1</dt>
<dd><p>amount of information for <code>hr1</code> in terms of number of events</p></dd>


<dt>id2</dt>
<dd><p>amount of information for <code>hr2</code> in terms of number of events</p></dd>


<dt>d2min</dt>
<dd><p>minimal number of events for phase II</p></dd>


<dt>d2max</dt>
<dd><p>maximal number of events for phase II</p></dd>


<dt>stepd2</dt>
<dd><p>step size for the optimization over d2</p></dd>


<dt>hrgomin</dt>
<dd><p>minimal threshold value for the go/no-go decision rule</p></dd>


<dt>hrgomax</dt>
<dd><p>maximal threshold value for the go/no-go decision rule</p></dd>


<dt>stephrgo</dt>
<dd><p>step size for the optimization over HRgo</p></dd>


<dt>alpha</dt>
<dd><p>significance level</p></dd>


<dt>beta</dt>
<dd><p>type II error rate; i.e. <code>1 - beta</code> is the power for calculation of the number of events for phase III by Schoenfeld's formula (Schoenfeld 1981)</p></dd>


<dt>xi2</dt>
<dd><p>assumed event rate for phase II, used for calculating the sample size of phase II via <code>n2 = d2/xi2</code></p></dd>


<dt>xi3</dt>
<dd><p>event rate for phase III, used for calculating the sample size of phase III in analogy to <code>xi2</code></p></dd>


<dt>c2</dt>
<dd><p>variable per-patient cost for phase II in 10^5 $.</p></dd>


<dt>c3</dt>
<dd><p>variable per-patient cost for phase III in 10^5 $.</p></dd>


<dt>c02</dt>
<dd><p>fixed cost for phase II in 10^5 $.</p></dd>


<dt>c03</dt>
<dd><p>fixed cost for phase III in 10^5 $.</p></dd>


<dt>K</dt>
<dd><p>constraint on the costs of the program, default: Inf, e.g. no constraint</p></dd>


<dt>N</dt>
<dd><p>constraint on the total expected sample size of the program, default: Inf, e.g. no constraint</p></dd>


<dt>S</dt>
<dd><p>constraint on the expected probability of a successful program, default: -Inf, e.g. no constraint</p></dd>


<dt>steps1</dt>
<dd><p>lower boundary for effect size category "small" in HR scale, default: 1</p></dd>


<dt>stepm1</dt>
<dd><p>lower boundary for effect size category "medium" in HR scale = upper boundary for effect size category "small" in HR scale, default: 0.95</p></dd>


<dt>stepl1</dt>
<dd><p>lower boundary for effect size category "large" in HR scale = upper boundary for effect size category "medium" in HR scale, default: 0.85</p></dd>


<dt>b1</dt>
<dd><p>expected gain for effect size category "small"</p></dd>


<dt>b2</dt>
<dd><p>expected gain for effect size category "medium"</p></dd>


<dt>b3</dt>
<dd><p>expected gain for effect size category "large"</p></dd>


<dt>gamma</dt>
<dd><p>to model different populations in phase II and III choose <code>gamma != 0</code>, default: 0</p></dd>


<dt>fixed</dt>
<dd><p>choose if true treatment effects are fixed or random, if TRUE hr1 is used as a fixed effect and hr2 is ignored</p></dd>


<dt>skipII</dt>
<dd><p>choose if skipping phase II is an option, default: FALSE;
if TRUE, the program calculates the expected utility for the case when phase
II is skipped and compares it to the situation when phase II is not skipped.
The results are then returned as a list of two results lists, <code>res[[1]]</code>
being the results when including phase II and <code>res[[2]]</code> when skipping
phase II. <code>res[[2]]</code> has an additional parameter, <code>res[[2]]$HR</code>, which is
the assumed hazards ratio used for planning the phase III study when the
phase II is skipped. It is calculated as the exponential function of the
median of the prior function.</p></dd>


<dt>num_cl</dt>
<dd><p>number of clusters used for parallel computing, default: 1</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The output of the function is a <code>data.frame</code> object containing the optimization results:</p><dl><dt>HRgo</dt>
<dd><p>optimal threshold value for the decision rule to go to phase III</p></dd>

<dt>d2</dt>
<dd><p>optimal total number of events for phase II</p></dd>

<dt>d3</dt>
<dd><p>total expected number of events for phase III; rounded to next natural number</p></dd>

<dt>d</dt>
<dd><p>total expected number of events in the program; d = d2 + d3</p></dd>
<dt>n2</dt>
<dd><p>total sample size for phase II; rounded to the next even natural number</p></dd>

<dt>n3</dt>
<dd><p>total sample size for phase III; rounded to the next even natural number</p></dd>

<dt>n</dt>
<dd><p>total sample size in the program; n = n2 + n3</p></dd>

<dt>K</dt>
<dd><p>maximal costs of the program</p></dd>

<dt>pgo</dt>
<dd><p>probability to go to phase III</p></dd>

<dt>sProg</dt>
<dd><p>probability of a successful program</p></dd>

<dt>sProg1</dt>
<dd><p>probability of a successful program with "small" treatment effect in phase III</p></dd>

<dt>sProg2</dt>
<dd><p>probability of a successful program with "medium" treatment effect in phase III</p></dd>

<dt>sProg3</dt>
<dd><p>probability of a successful program with "large" treatment effect in phase III</p></dd>

<dt>K2</dt>
<dd><p>expected costs for phase II</p></dd>

<dt>K3</dt>
<dd><p>expected costs for phase III</p></dd>

</dl><p>and further input parameters. Taking <code>cat(comment())</code> of the
data frame lists the used optimization sequences, start and
finish date of the optimization procedure.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kirchner, M., Kieser, M., Goette, H., &amp; Schueler, A. (2016). Utility-based optimization of phase II/III programs. Statistics in Medicine, 35(2), 305-316.</p>
<p>IQWiG (2016). Allgemeine Methoden. Version 5.0, 10.07.2016, Technical Report. Available at <a href="https://www.iqwig.de/de/methoden/methodenpapier.3020.html" class="external-link">https://www.iqwig.de/de/methoden/methodenpapier.3020.html</a>, assessed last 15.05.19.</p>
<p>Schoenfeld, D. (1981). The asymptotic properties of nonparametric tests for comparing survival distributions. Biometrika, 68(1), 316-319.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="optimal_binary.html">optimal_binary</a></code>, <code><a href="optimal_normal.html">optimal_normal</a></code>, <code><a href="optimal_bias.html">optimal_bias</a></code>, <code><a href="optimal_multitrial.html">optimal_multitrial</a></code> and <code><a href="optimal_multiarm.html">optimal_multiarm</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">optimal_tte</span><span class="op">(</span>w <span class="op">=</span> <span class="fl">0.3</span>,                              <span class="co"># define parameters for prior</span></span></span>
<span class="r-in"><span>  hr1 <span class="op">=</span> <span class="fl">0.69</span>, hr2 <span class="op">=</span> <span class="fl">0.88</span>, id1 <span class="op">=</span> <span class="fl">210</span>, id2 <span class="op">=</span> <span class="fl">420</span>,          <span class="co"># (https://web.imbi.uni-heidelberg.de/prior/)</span></span></span>
<span class="r-in"><span>  d2min <span class="op">=</span> <span class="fl">20</span>, d2max <span class="op">=</span> <span class="fl">100</span>, stepd2 <span class="op">=</span> <span class="fl">5</span>,                   <span class="co"># define optimization set for d2</span></span></span>
<span class="r-in"><span>  hrgomin <span class="op">=</span> <span class="fl">0.7</span>, hrgomax <span class="op">=</span> <span class="fl">0.9</span>, stephrgo <span class="op">=</span> <span class="fl">0.05</span>,         <span class="co"># define optimization set for HRgo</span></span></span>
<span class="r-in"><span>  alpha <span class="op">=</span> <span class="fl">0.05</span>, beta <span class="op">=</span> <span class="fl">0.1</span>, xi2 <span class="op">=</span> <span class="fl">0.7</span>, xi3 <span class="op">=</span> <span class="fl">0.7</span>,        <span class="co"># drug development planning parameters</span></span></span>
<span class="r-in"><span>  c2 <span class="op">=</span> <span class="fl">0.75</span>, c3 <span class="op">=</span> <span class="fl">1</span>, c02 <span class="op">=</span> <span class="fl">100</span>, c03 <span class="op">=</span> <span class="fl">150</span>,               <span class="co"># define fixed and variable costs for phase II and III</span></span></span>
<span class="r-in"><span>  K <span class="op">=</span> <span class="cn">Inf</span>, N <span class="op">=</span> <span class="cn">Inf</span>, S <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,                            <span class="co"># set maximal costs/ expected sample size for the program or minimal expected probability of a successful program</span></span></span>
<span class="r-in"><span>  steps1 <span class="op">=</span> <span class="fl">1</span>,                                            <span class="co"># define lower boundary for "small"</span></span></span>
<span class="r-in"><span>  stepm1 <span class="op">=</span> <span class="fl">0.95</span>,                                         <span class="co"># "medium"</span></span></span>
<span class="r-in"><span>  stepl1 <span class="op">=</span> <span class="fl">0.85</span>,                                         <span class="co"># and "large" treatment effect size categories as proposed by IQWiG (2016)</span></span></span>
<span class="r-in"><span>  b1 <span class="op">=</span> <span class="fl">1000</span>, b2 <span class="op">=</span> <span class="fl">2000</span>, b3 <span class="op">=</span> <span class="fl">3000</span>,                       <span class="co"># define expected benefit for a "small", "medium" and "large" treatment effect</span></span></span>
<span class="r-in"><span>  gamma <span class="op">=</span> <span class="fl">0</span>,                                             <span class="co"># assume different/same population structures in phase II and III</span></span></span>
<span class="r-in"><span>  fixed <span class="op">=</span> <span class="cn">FALSE</span>,                                         <span class="co"># choose if true treatment effects are fixed or random</span></span></span>
<span class="r-in"><span>  skipII <span class="op">=</span> <span class="cn">FALSE</span>,                                        <span class="co"># choose if skipping phase II would be an option</span></span></span>
<span class="r-in"><span>  num_cl <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>                                            <span class="co"># set number of cores used for parallelized computing (check maximum number possible with detectCores())</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimization progress:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |==============                                                        |  20%  |                                                                              |============================                                          |  40%  |                                                                              |==========================================                            |  60%  |                                                                              |========================================================              |  80%  |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Optimization result:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        u HRgo d2  d3   d  n2  n3   n  pgo sProg   w  hr1  hr2 id1 id2   K   N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 164.01  0.8 90 121 211 130 172 302 0.45  0.26 0.3 0.69 0.88 210 420 Inf Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      S  K2  K3 sProg1 sProg2 sProg3 steps1 stepm1 stepl1 alpha beta xi2 xi3 c02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -Inf 198 240   0.05   0.09   0.12      1   0.95   0.85  0.05  0.1 0.7 0.7 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c03   c2 c3   b1   b2   b3 gamma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 150 0.75  1 1000 2000 3000     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        u HRgo d2  d3   d  n2  n3   n  pgo sProg   w  hr1  hr2 id1 id2   K   N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 164.01  0.8 90 121 211 130 172 302 0.45  0.26 0.3 0.69 0.88 210 420 Inf Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      S  K2  K3 sProg1 sProg2 sProg3 steps1 stepm1 stepl1 alpha beta xi2 xi3 c02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -Inf 198 240   0.05   0.09   0.12      1   0.95   0.85  0.05  0.1 0.7 0.7 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c03   c2 c3   b1   b2   b3 gamma</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 150 0.75  1 1000 2000 3000     0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/comment.html" class="external-link">comment</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">)</span>                                        <span class="co"># displays the optimization sequence, start and finish date of the optimization procedure.</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> optimization sequence HRgo: 0.7 0.75 0.8 0.85 0.9 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> optimization sequence d2: 20 25 30 35 40 45 50 55 60 65 70 75 80 85 90 95 100 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set on date: 2023-01-23 17:53:17 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> finish date: 2023-01-23 17:53:25</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># res &lt;- optimal_tte_graphic(w = 0.3,                     # define parameters for prior</span></span></span>
<span class="r-in"><span> <span class="co"># hr1 = 0.69, hr2 = 0.88, id1 = 210, id2 = 420,          # (https://web.imbi.uni-heidelberg.de/prior/)</span></span></span>
<span class="r-in"><span> <span class="co"># d2min = 20, d2max = 100, stepd2 = 5,                   # define optimization set for d2</span></span></span>
<span class="r-in"><span> <span class="co"># hrgomin = 0.7, hrgomax = 0.9, stephrgo = 0.05,         # define optimization set for HRgo</span></span></span>
<span class="r-in"><span> <span class="co"># alpha = 0.05, beta = 0.1, xi2 = 0.7, xi3 = 0.7,        # drug development planning parameters</span></span></span>
<span class="r-in"><span> <span class="co"># c2 = 0.75, c3 = 1, c02 = 100, c03 = 150,               # define fixed and variable costs for phase II and III</span></span></span>
<span class="r-in"><span> <span class="co"># K = Inf, N = Inf, S = -Inf,                            # set maximal costs/ expected sample size for the program or minimal expected probability of a successful program</span></span></span>
<span class="r-in"><span> <span class="co"># steps1 = 1,                                            # define lower boundary for "small"</span></span></span>
<span class="r-in"><span> <span class="co"># stepm1 = 0.95,                                         # "medium"</span></span></span>
<span class="r-in"><span> <span class="co"># stepl1 = 0.85,                                         # and "large" treatment effect size categories as proposed by IQWiG (2016)</span></span></span>
<span class="r-in"><span> <span class="co"># b1 = 1000, b2 = 2000, b3 = 3000,                       # define expected benefit for a "small", "medium" and "large" treatment effect</span></span></span>
<span class="r-in"><span> <span class="co"># gamma = 0,                                             # assume different/same population structures in phase II and III</span></span></span>
<span class="r-in"><span> <span class="co"># fixed = FALSE,                                         # choose if true treatment effects are fixed or random</span></span></span>
<span class="r-in"><span> <span class="co"># skipII = FALSE,                                        # choose if skipping phase II would be an option</span></span></span>
<span class="r-in"><span> <span class="co"># num_cl = 1)                                            # set number of cores used for parallelized computing (check maximum number possible with detectCores())</span></span></span>
<span class="r-in"><span><span class="co"># res</span></span></span>
<span class="r-in"><span><span class="co"># cat(comment(res))                                        # displays the optimization sequence, start and finish date of the optimi</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Stella Preussler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

