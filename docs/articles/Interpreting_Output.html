<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Interpreting the rest of the output • drugdevelopR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interpreting the rest of the output">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">drugdevelopR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Introduction-to-drugdevelopR.html">Introduction to planning phase II and phase III trials with drugdevelopR</a></li>
    <li><a class="dropdown-item" href="../articles/Package_validation.html">Package validation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Sterniii3/drugdevelopR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Interpreting the rest of the output</h1>
                        <h4 data-toc-skip class="author">Johannes
Cepicka</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Sterniii3/drugdevelopR/blob/HEAD/vignettes/Interpreting_Output.Rmd" class="external-link"><code>vignettes/Interpreting_Output.Rmd</code></a></small>
      <div class="d-none name"><code>Interpreting_Output.Rmd</code></div>
    </div>

    
    
<p>Suppose we are planning a drug development program testing the
superiority of an experimental treatment over a control treatment. Our
drug development program consists of an exploratory phase II trial which
is, in case of promising results, followed by a confirmatory phase III
trial.</p>
<p>The drugdevelopR package enables us to optimally plan such programs
using a utility-maximizing approach. To get a brief introduction, we
presented a very basic example on how the package works in <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">Introduction
to planning phase II and phase III trials with drugdevelopR</a>. As we
only discussed the most important results of the function in the
introduction, we now want to interpret the rest of the output.</p>
<div class="section level2">
<h2 id="the-example-setting-and-the-input-parameters">The example setting and the input parameters<a class="anchor" aria-label="anchor" href="#the-example-setting-and-the-input-parameters"></a>
</h2>
<p>We are in the same setting as in the introduction, i.e. we suppose we
are developing a new tumor treatment, <em>exper</em>. The patient
variable that we want to investigate is the difference in tumor width
between the one-year visit and baseline. This is a normally distributed
outcome variable.</p>
<p>The parameters we insert into the function
<code>optimum_normal</code> are the same parameters we also inserted in
the basic setting. Thus, for more information on the input values we
refer to the <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">Introduction</a>.
We start by loading the drugdevelopR package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Sterniii3/drugdevelopR" class="external-link">drugdevelopR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: doParallel</span></span>
<span><span class="co">#&gt; Loading required package: foreach</span></span>
<span><span class="co">#&gt; Loading required package: iterators</span></span>
<span><span class="co">#&gt; Loading required package: parallel</span></span></code></pre></div>
<p>Then we insert the input values into the function
<code>optimal_normal</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimal_normal.html">optimal_normal</a></span><span class="op">(</span>Delta1 <span class="op">=</span> <span class="fl">0.625</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># treatment effect</span></span>
<span>                       n2min <span class="op">=</span> <span class="fl">20</span>, n2max <span class="op">=</span> <span class="fl">400</span>, <span class="co"># sample size region</span></span>
<span>                       stepn2 <span class="op">=</span> <span class="fl">4</span>, <span class="co"># sample size step size</span></span>
<span>                       kappamin <span class="op">=</span> <span class="fl">0.02</span>, kappamax <span class="op">=</span> <span class="fl">0.2</span>, <span class="co"># threshold region</span></span>
<span>                       stepkappa <span class="op">=</span> <span class="fl">0.02</span>, <span class="co"># threshold step size</span></span>
<span>                       c2 <span class="op">=</span> <span class="fl">0.675</span>, c3 <span class="op">=</span> <span class="fl">0.72</span>, <span class="co"># maximal total trial costs</span></span>
<span>                       c02 <span class="op">=</span> <span class="fl">15</span>, c03 <span class="op">=</span> <span class="fl">20</span>, <span class="co"># maximal per-patient costs</span></span>
<span>                       b1 <span class="op">=</span> <span class="fl">3000</span>, b2 <span class="op">=</span> <span class="fl">8000</span>, b3 <span class="op">=</span> <span class="fl">10000</span>, <span class="co"># gains for patients</span></span>
<span>                       alpha <span class="op">=</span> <span class="fl">0.025</span>, <span class="co"># significance level</span></span>
<span>                       beta <span class="op">=</span> <span class="fl">0.1</span>, <span class="co"># 1 - power</span></span>
<span>                       Delta2 <span class="op">=</span> <span class="cn">NULL</span>, w <span class="op">=</span> <span class="cn">NULL</span>, in1 <span class="op">=</span> <span class="cn">NULL</span>, in2 <span class="op">=</span> <span class="cn">NULL</span>, </span>
<span>                       a <span class="op">=</span> <span class="cn">NULL</span>,b <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="co"># setting all unneeded parameters to NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interpreting-the-output">Interpreting the output<a class="anchor" aria-label="anchor" href="#interpreting-the-output"></a>
</h2>
<p>After setting all these input parameters and running the function,
let’s take a look at the output of the program.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span></span>
<span><span class="co">#&gt; Optimization result:</span></span>
<span><span class="co">#&gt;  Utility: 2946.07</span></span>
<span><span class="co">#&gt;  Sample size:</span></span>
<span><span class="co">#&gt;    phase II: 92, phase III: 192, total: 284</span></span>
<span><span class="co">#&gt;  Probability to go to phase III: 1</span></span>
<span><span class="co">#&gt;  Total cost:</span></span>
<span><span class="co">#&gt;    phase II: 77, phase III: 158, cost constraint: Inf</span></span>
<span><span class="co">#&gt;  Fixed cost:</span></span>
<span><span class="co">#&gt;    phase II: 15, phase III: 20</span></span>
<span><span class="co">#&gt;  Variable cost per patient:</span></span>
<span><span class="co">#&gt;    phase II: 0.675, phase III: 0.72</span></span>
<span><span class="co">#&gt;  Effect size categories (expected gains):</span></span>
<span><span class="co">#&gt;   small: 0 (3000), medium: 0.5 (8000), large: 0.8 (10000)</span></span>
<span><span class="co">#&gt;  Success probability: 0.85</span></span>
<span><span class="co">#&gt; Joint probability of success and observed effect of size ... in phase III:</span></span>
<span><span class="co">#&gt;    small: 0.72, medium: 0.12, large: 0</span></span>
<span><span class="co">#&gt;  Significance level: 0.025</span></span>
<span><span class="co">#&gt;  Targeted power: 0.9</span></span>
<span><span class="co">#&gt;  Decision rule threshold: 0.06 [Kappa] </span></span>
<span><span class="co">#&gt;  Assumed true effect: 0.625 [Delta] </span></span>
<span><span class="co">#&gt;  Treatment effect offset between phase II and III: 0 [gamma]</span></span></code></pre></div>
<p>The program returns a total of thirteen values and the input values.
We will now take a closer look and explain all output values with the
necessary detail:</p>
<ul>
<li>
<code>res$u</code> is the expected utility of the program for the
optimal sample size and threshold value. In our case it amounts to
2946.07, i.e. we have an expected utility of 294 607 000$. As the
function maximizes the expected utility, this is the highest expected
utility one can receive given the input parameters.</li>
<li>
<code>res$Kappa</code> is the optimal threshold value for the
go/no-go decision rule. We see that we need a treatment effect of more
than 0.06 in phase II in order to proceed to phase III. If in phase II
we get a treatment effect that is below 0.06, the program is deemed
unsuccessful and no phase III trial will be conducted. If we are above
the threshold value, we proceed to phase III.</li>
<li>
<code>res$n2</code> is the optimal sample size for phase II and
<code>res$n3</code> the resulting sample size for phase III. We see that
the optimal scenario requires 92 participants in phase II and 192
participants in phase III. <code>res$n</code> is the sum of
<code>res$n2</code> and <code>res$n3</code> and refers to the total
number of participants. Note, that one can set a maximum number of
participants, leading to constrained optimization. For more information,
see the article about <a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html">further
input parameters</a>.</li>
<li>
<code>res$pgo</code> is the probability to go to phase III, which
coincides with the probability that the observed treatment effect is
above the optimal threshold value. In this case, we get a probability
which is close to one and hence rounded to 1. This means that we can
expect a treatment effect of above 0.06 in phase II and hence, the trial
will proceed to phase III almost certainly.</li>
<li>
<code>res$sProg</code> is the probability that the whole program is
successful, i.e. that we proceed to phase III and observe a positive
treatment effect in phase III. In our case the probability of a
successful program is 0.85, so a trial with these input parameters will
be successful 85% of the time. The probability of a successful program
is further subdivided in probabilities for small, medium or large
treatment effect. The probability of a small treatment effect
<code>res$sProg1</code> is 0.72 in our case, for a medium treatment
effect the probability <code>res$sProg2</code> is 0.12 and for a large
treatment effect the probability <code>res&amp;$sProg3</code> is 0. The
treatment effects correspond to the benefit categories, so with a
probability of 0.72 we receive a benefit of 300,000,000$ and so on. Due
to rounding, the probabilities may not add up exactly to the overall
probability of a successful program. Note that one can set a minimum
probability of successful program, leading to constrained optimization.
For more information, see the article about <a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html">further
input parameters</a>.</li>
<li>The final output parameters are the costs <code>res$K2</code> in
phase II and <code>res$K3</code> in phase III. The costs in phase II are
calculated as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>02</mn></msub><mo>+</mo><msub><mi>n</mi><mn>2</mn></msub><mo>⋅</mo><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">c_{02} + n_2\cdot c_2</annotation></semantics></math>
and the costs in phase II are calculated as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>c</mi><mn>03</mn></msub><mo>+</mo><msub><mi>n</mi><mn>3</mn></msub><mo>⋅</mo><msub><mi>c</mi><mn>3</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>⋅</mo><msub><mi>p</mi><mrow><mi>g</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">(c_{03} + n_3\cdot c_3)\cdot p_{go}</annotation></semantics></math>,
i.e. in phase III the expected costs are returned. In our setting, we
have costs of 77 in 10^5$ (i.e. 7,200,000$) in phase II and costs of 158
in 10^5$(i.e. 13,900,000) in phase III. Note, that one can set a maximum
cost limit for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><msub><mi>K</mi><mn>2</mn></msub><mo>+</mo><msub><mi>K</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">K=K_2+K_3</annotation></semantics></math>
, leading to constrained optimization. For more information, see the
article about <a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html">further
input parameters</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="where-to-go-from-here">Where to go from here<a class="anchor" aria-label="anchor" href="#where-to-go-from-here"></a>
</h2>
<p>This tutorial explains how we can interpret all of the output
generated by our program.</p>
<p>For more information on how to use the package, see:</p>
<ul>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html"><em>Introduction
to drugdevelopR:</em></a> See how the package works in a basic
example.</li>
<li>
<em>Different outcomes:</em> Apply it to <a href="https://sterniii3.github.io/drugdevelopR/articles/Binary_outcomes.html">binary
endpoints</a> and <a href="https://sterniii3.github.io/drugdevelopR/articles/Time-to-event_outcomes.html">time-to-event
endpoints</a>.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/Fixed_and_prior_distributions.html"><em>Fixed
or prior:</em></a> Model the assumed treatment effect on a prior
distribution.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html"><em>More
parameters:</em></a> Define custom effect size categories. Put
constraints on the optimization by defining maximum costs, the total
expected sample size of the program or the minimum expected probability
of a successful program. Define an expected difference in treatment
effect between phase II and III. Skip phase II.</li>
<li>
<em>Complex drug development programs:</em> Adapt to situations with
<a href="https://sterniii3.github.io/drugdevelopR/articles/Bias_adjustment.html">biased
effect estimators</a>, <a href="https://sterniii3.github.io/drugdevelopR/articles/Multitrial.html">multiple
phase III trials</a>, <a href="https://sterniii3.github.io/drugdevelopR/articles/Multiarm_Trials.html">multi-arm
trials</a>, or <a href="https://sterniii3.github.io/drugdevelopR/articles/Multiple_Endpoints.html">multiple
endpoints</a>.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html#parallel-computing"><em>Parallel
computing:</em></a> Be faster at calculating the optimum by using
parallel computing.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stella Erdmann, Johannes Cepicka, Marietta Kirchner, Meinhard Kieser, Lukas D. Sauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
