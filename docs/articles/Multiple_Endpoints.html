<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="drugdevelopR">
<title>Multiple - methods for trials with multiple endpoints • drugdevelopR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multiple - methods for trials with multiple endpoints">
<meta property="og:description" content="drugdevelopR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">drugdevelopR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Introduction-to-drugdevelopR.html">Introduction to planning phase II and phase III trials with drugdevelopR</a>
    <a class="dropdown-item" href="../articles/Package_validation.html">Package validation</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Sterniii3/drugdevelopR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Multiple - methods for trials with multiple endpoints</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Sterniii3/drugdevelopR/blob/HEAD/../../../../../../U:/r-pakete/drugdevelopR/drugdevelopR_source/vignettes/Multiple_Endpoints.Rmd" class="external-link"><code>../../../../../../U:/r-pakete/drugdevelopR/drugdevelopR_source/vignettes/Multiple_Endpoints.Rmd</code></a></small>
      <div class="d-none name"><code>Multiple_Endpoints.Rmd</code></div>
    </div>

    
    
<p>Suppose we are planning a drug development program testing the
superiority of an experimental treatment over a control treatment. Our
drug development program consists of an exploratory phase II trial which
is, in case of promising results, followed by a confirmatory phase III
trial.</p>
<p>The drugdevelopR package enables us to optimally plan such programs
using a utility-maximizing approach. To get a brief introduction, we
presented a very basic example on how the package works in <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">Introduction
to planning phase II and phase III trials with drugdevelopR</a>.
Contrary to the basic setting, where only one phase II and one phase III
trial were conducted, in this scenario we investigate what happens when
multiple endpoints are of interest. The functions currently implemented
only allow for the conduction of trials with up to two different
endpoints. The drugdevelopR package enables programs where only one
endpoints has to show a significant positive treatment effect or all
endpoints have to show a significant positive treatment effect.</p>
<p>After installing the package according to the <a href="https://sterniii3.github.io/drugdevelopR/#Installation">installation
instructions</a>, we can load it using the following code, and start
right into the two examples:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Sterniii3/drugdevelopR" class="external-link">drugdevelopR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: doParallel</span></span>
<span><span class="co">#&gt; Loading required package: foreach</span></span>
<span><span class="co">#&gt; Loading required package: iterators</span></span>
<span><span class="co">#&gt; Loading required package: parallel</span></span></code></pre></div>
<div class="section level2">
<h2 id="only-one-endpoint-has-to-be-significant">Only one endpoint has to be significant<a class="anchor" aria-label="anchor" href="#only-one-endpoint-has-to-be-significant"></a>
</h2>
<p>Suppose we are developing a new tumor treatment, <em>exper</em>. The
two endpoints we consider interesting are overall survival (OS) and
progression-free survival (PFS). These are time-to-event outcome
variables. Therefore, we will use the function
<code>optimal_multiple_tte</code>, which calculates optimal sample sizes
and threshold decisions values for time-to-event outcomes when multiple
endpoints are investigated.</p>
<p>Within our drug development program, we will compare our experimental
treatment to the control treatment <em>contro</em>. The treatment effect
measure of <em>exper</em> for each endpoint <span class="math inline">\(i \in \{1,2\}\)</span> is given by <span class="math inline">\(\theta_i = −\log(HR_i)\)</span>, where the hazard
ratio <span class="math inline">\(HR_i\)</span> is the ratio of the
hazard rates between the experimental treatment and the control
treatment, for each endpoint. For more information on the hazard ratio,
see the vignette on <a href="https://sterniii3.github.io/drugdevelopR/articles/Time-to-event_outcomes.html">time-to-event
endpoints</a>.</p>
<div class="section level3">
<h3 id="defining-all-necessary-parameters">Defining all necessary parameters<a class="anchor" aria-label="anchor" href="#defining-all-necessary-parameters"></a>
</h3>
<p>The parameters in the setting with multiple endpoints differ slightly
from the other cases (<a href="https://sterniii3.github.io/drugdevelopR/articles/Bias_adjustment.html">bias
adjustment</a> and <a href="https://sterniii3.github.io/drugdevelopR/articles/Multitrial.html">multitrial</a>).
As in the basic setting, the treatment effect may be fixed (as in this
example) or may follow a prior distribution (see <a href="https://sterniii3.github.io/drugdevelopR/articles/Fixed_and_prior_distributions.html">Fixed
or Prior</a>) Note that in this case, contrary to the other settings,
the second treatment effect describes the effect of the second endpoint
and is also relevant for <code>fixed = TRUE</code>. Furthermore, some
options to adapt the program to your specific needs are also available
in this setting (see <a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html">More
parameters</a>), however skipping phase II and choosing different
treatment effects in phase II and III are not possible.</p>
<ul>
<li>
<code>hr1</code> is the assumed hazard ratio of the endpoint OS.
<code>hr2</code> is the assumed hazard ratio of the endpoint PFS. We
assume that our experimental treatment <em>exper</em> leads to a hazard
reduction of 80% compared to the control treatment <em>contro</em> for
endpoint OS and a reduction of 75% for PFS. Therefore, we set
<code>hr1 = 0.8</code> and <code>hr2 = 0.75</code>.</li>
<li>
<code>n2min</code> and <code>n2max</code> specify the minimal and
maximal number of participants (not events) for the phase II trial. The
package will search for the optimal sample size within this region. For
now, we want the program to search for the optimal sample size in the
interval between 20 and 400 participants. In addition, we will tell the
program to search this region in steps of ten participants at a time by
setting <code>stepn2 = 10</code>.</li>
<li>Differing from the basis setting, one has to provide two sets of
benefits triples, one triple <code>b11</code>, <code>b21</code>,
<code>b31</code> in the case endpoint OS is significant (independent of
PFS beiing significant or not) and one triple <code>b12</code>,
<code>b22</code>, <code>b32</code> in the case OS is not significant.
The intuition is that overall survival is the “more relevant” endpoint,
i.e. if this endpoints shows a significant result, we have higher gains
than if only the “less important” endpoint PFS shows a significant
result. We assign benefit triples of {1000, 2000, 3000} for the case OS
is significant and {1000, 1500, 2000} if not (all in units of
10^5$).</li>
<li>Finally, the parameter <code>rho</code> determines the correlation
between the treatment effects of the two endpoints. In our case, we set
<code>rho = 0.6</code>, indicating the correlation between the treatment
effects of OS and PFS is 0.6.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimal_multiple_tte.html">optimal_multiple_tte</a></span><span class="op">(</span>hr1 <span class="op">=</span> <span class="fl">0.8</span>, hr2 <span class="op">=</span> <span class="fl">0.75</span>,                   <span class="co"># define assumed true HRs</span></span>
<span>                    id1 <span class="op">=</span> <span class="cn">NULL</span>, id2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                    n2min <span class="op">=</span> <span class="fl">20</span>, n2max <span class="op">=</span> <span class="fl">400</span>, stepn2 <span class="op">=</span> <span class="fl">10</span>,             <span class="co"># define optimization set for n2</span></span>
<span>                    hrgomin <span class="op">=</span> <span class="fl">0.7</span>, hrgomax <span class="op">=</span> <span class="fl">0.9</span>, stephrgo <span class="op">=</span> <span class="fl">0.05</span>,    <span class="co"># define optimization set for HRgo</span></span>
<span>                    alpha <span class="op">=</span> <span class="fl">0.05</span>, beta <span class="op">=</span> <span class="fl">0.1</span>,                         <span class="co"># drug development planning parameters</span></span>
<span>                    c2 <span class="op">=</span> <span class="fl">0.75</span>, c3 <span class="op">=</span> <span class="fl">1</span>, c02 <span class="op">=</span> <span class="fl">100</span>, c03 <span class="op">=</span> <span class="fl">150</span>,          <span class="co"># define costs for phase II and III</span></span>
<span>                    K <span class="op">=</span> <span class="cn">Inf</span>, N <span class="op">=</span> <span class="cn">Inf</span>, S <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,                       <span class="co"># set constraints</span></span>
<span>                    steps1 <span class="op">=</span> <span class="fl">1</span>,  stepm1 <span class="op">=</span> <span class="fl">0.95</span>,  stepl1 <span class="op">=</span> <span class="fl">0.85</span>,       <span class="co"># effect size categories</span></span>
<span>                    b11 <span class="op">=</span> <span class="fl">1000</span>, b21 <span class="op">=</span> <span class="fl">2000</span>, b31 <span class="op">=</span> <span class="fl">3000</span>,</span>
<span>                    b12 <span class="op">=</span> <span class="fl">1000</span>, b22 <span class="op">=</span> <span class="fl">1500</span>, b32 <span class="op">=</span> <span class="fl">2000</span>,               <span class="co"># define expected benefits (both categories)</span></span>
<span>                    rho <span class="op">=</span> <span class="fl">0.6</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span>,                          <span class="co"># correlation and treatment effect</span></span>
<span>                    num_cl <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interpreting-the-output">Interpreting the output<a class="anchor" aria-label="anchor" href="#interpreting-the-output"></a>
</h3>
<p>After setting all these input parameters and running the function,
let’s take a look at the output of the program.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res1</span></span>
<span><span class="co">#&gt;        u HRgo  n2  n3   n  pgo sProg hr1  hr2 rho   K   N    S  K2  K3 sProg2</span></span>
<span><span class="co">#&gt; 1 295.29 0.85 140 284 424 0.82  0.49 0.8 0.75 0.6 Inf Inf -Inf 205 407   0.25</span></span>
<span><span class="co">#&gt;   sProg3   OS steps1 stepm1 stepl1 alpha beta c02 c03   c2 c3  b11  b21  b31</span></span>
<span><span class="co">#&gt; 1   0.11 0.77      1   0.95   0.85  0.05  0.1 100 150 0.75  1 1000 2000 3000</span></span>
<span><span class="co">#&gt;    b12  b22  b32</span></span>
<span><span class="co">#&gt; 1 1000 1500 2000</span></span></code></pre></div>
<p>The program returns a data frame, with the following results:</p>
<ul>
<li>
<code>res$n2</code> is the optimal number of participants for phase
II and <code>res$n3</code> the resulting number of events for phase III.
We see that the optimal scenario requires 140 participants in phase II
and 284 participants in phase III.</li>
<li>
<code>res$HRgo</code> is the optimal threshold value for the
go/no-go decision rule. We see that we need a hazard ratio of less than
0.85 in phase II in order to proceed to phase III.</li>
<li>
<code>res$u</code> is the expected utility of the program for the
optimal sample size and threshold value. In our case it amounts to
295.29, i.e. we have an expected utility of 29 529 000$.</li>
<li>
<code>res$OS</code> is the probability that endpoint OS is
significant, given that the program is successful overall. The
probability of a successful program is 0.49, thus, if the program is
successful the probability that the endpoint OS is significant and we
obtain higher benefits is 0.77.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="both-endpoints-have-to-be-significant">Both endpoints have to be significant<a class="anchor" aria-label="anchor" href="#both-endpoints-have-to-be-significant"></a>
</h2>
<p>In this scenario, suppose we are developing a new Alzheimer
medication, <em>exper</em>. The two endpoints we consider interesting
are improving cognition (cognitive endpoint) and improving activities of
daily living (functional endpoint). We want both outcomes to be show
statistically significant differences for the trial to be successful.
These are normally distributed outcome variables. Therefore, we will use
the function <code>optimal_multiple_normal</code>, which calculates
optimal sample sizes and threshold decisions values for normally
distributed outcomes when multiple endpoints are investigated.</p>
<p>Within our drug development program, we will compare our experimental
treatment to the control treatment <em>contro</em>. The treatment effect
measure of <em>exper</em> for each endpoint <span class="math inline">\(i \in \{1,2\}\)</span> is given by <span class="math inline">\(\Delta_i = \mu_{exper} - \mu_{contro}\)</span>,
which is the difference in mean between the experimental treatment and
the control treatment, for both endpoints. Note that this is not divided
by the standard deviation, hence is it not standardized. For more
information, see the vignette on <a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html">normally
distributed outcomes</a>.</p>
<div class="section level3">
<h3 id="defining-all-necessary-parameters-1">Defining all necessary parameters<a class="anchor" aria-label="anchor" href="#defining-all-necessary-parameters-1"></a>
</h3>
<p>Again, the parameters in the setting with multiple endpoints differ
slightly from the other cases (<a href="https://sterniii3.github.io/drugdevelopR/articles/Bias_adjustment.html">bias
adjustment</a> and <a href="https://sterniii3.github.io/drugdevelopR/articles/Multitrial.html">multitrial</a>).
As in the basic setting, the treatment effect may be fixed (as in this
example) or may follow a prior distribution (see <a href="https://sterniii3.github.io/drugdevelopR/articles/Fixed_and_prior_distributions.html">Fixed
or Prior</a>) Note, that in this case, contrary to the other settings,
the second treatment effect describes the effect of the second endpoint
and is also relevant for <code>fixed = TRUE</code>. Furthermore, some
options to adapt the program to your specific needs are also available
in this setting (see <a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html">More
parameters</a>), however skipping phase II and choosing different
treatment effects in phase II and III are not possible.</p>
<ul>
<li>
<code>Delta1</code> is our assumed true treatment effect given as
difference in means between <em>exper</em> and <em>contro</em> for the
cognitive endpoint and <code>Delta2</code> is our assumed true treatment
effect given as difference in means between <em>exper</em> and
<em>contro</em> for the functional endpoint. We assume true treatment
effects to be 0.8 and 0.5 for each endpoint respectively, hence
<code>Delta1 = 0.8</code> and <code>Delta2 = 0.5</code>.</li>
<li>
<code>n2min</code> and <code>n2max</code> specify the minimal and
maximal number of participants for the phase II trial. The package will
search for the optimal sample size within this region. For now, we want
the program to search for the optimal sample size in the interval
between 20 and 200 participants. In addition, we will tell the program
to search this region in steps of ten participants at a time by setting
<code>stepn2 = 10</code>.</li>
<li>We have to include two parameters that amount for the standard
deviations <span class="math inline">\(\sigma_i\)</span> for <span class="math inline">\(i \in \{1,2\}\)</span>. We set
<code>sigma1 = 2</code> and <code>sigma2 = 1</code> for our
example.</li>
<li>The parameter <code>relaxed</code> decides how the effect sizes of
the two endpoints are combined into one overall effect size (large,
medium or small overall treatment effect). If
<code>relaxed = FALSE</code> , we consider a strict rule assigning a
large overall effect if both endpoints show an effect of large size, a
small overall effect if at least one of the endpoints shows a small
effect, and a medium overall effect otherwise. If
<code>relaxed = TRUE</code>, we investigate the characteristics for a
more relaxed rule assigning a large overall effect if at least one of
the endpoints shows a large effect, a small effect if both endpoints
show a small effect, and a medium overall effect otherwise. For our
example, we set <code>relaxed = TRUE</code>
</li>
<li>Finally, the parameter <code>rho</code> determines the correlation
between the treatment effects of the two endpoints. In our case, we set
<code>rho = 0.5</code>, indicating the correlation between the treatment
effects is 0.5.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/optimal_multiple_normal.html">optimal_multiple_normal</a></span><span class="op">(</span>Delta1 <span class="op">=</span> <span class="fl">0.8</span>, Delta2 <span class="op">=</span> <span class="fl">0.5</span>,  <span class="co"># define assumed true treatmen effects</span></span>
<span>   in1<span class="op">=</span> <span class="cn">NULL</span>, in2<span class="op">=</span> <span class="cn">NULL</span>, sigma1 <span class="op">=</span> <span class="fl">2</span>, sigma2<span class="op">=</span> <span class="fl">1</span>,              <span class="co"># standard deviations</span></span>
<span>   n2min <span class="op">=</span> <span class="fl">20</span>, n2max <span class="op">=</span> <span class="fl">200</span>, stepn2 <span class="op">=</span> <span class="fl">10</span>,                     <span class="co"># define optimization set for n2</span></span>
<span>   kappamin <span class="op">=</span> <span class="fl">0.02</span>, kappamax <span class="op">=</span> <span class="fl">0.2</span>, stepkappa <span class="op">=</span> <span class="fl">0.02</span>,        <span class="co"># define optimization set for HRgo</span></span>
<span>   alpha <span class="op">=</span> <span class="fl">0.05</span>, beta <span class="op">=</span> <span class="fl">0.1</span>,                                 <span class="co"># drug development planning parameters</span></span>
<span>   c2 <span class="op">=</span> <span class="fl">0.75</span>, c3 <span class="op">=</span> <span class="fl">1</span>, c02 <span class="op">=</span> <span class="fl">100</span>, c03 <span class="op">=</span> <span class="fl">150</span>,                  <span class="co"># define fixed and variable costs for phase II and III</span></span>
<span>   K <span class="op">=</span> <span class="cn">Inf</span>, N <span class="op">=</span> <span class="cn">Inf</span>, S <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,                               <span class="co"># set constraints</span></span>
<span>   steps1 <span class="op">=</span> <span class="fl">0</span>,  stepm1 <span class="op">=</span> <span class="fl">0.5</span>, stepl1 <span class="op">=</span> <span class="fl">0.8</span>,                  <span class="co"># benefit categories</span></span>
<span>   b1 <span class="op">=</span> <span class="fl">1000</span>, b2 <span class="op">=</span> <span class="fl">2000</span>, b3 <span class="op">=</span> <span class="fl">3000</span>,                          <span class="co"># define expected benefits </span></span>
<span>   rho <span class="op">=</span> <span class="fl">0.5</span>, relaxed <span class="op">=</span> <span class="cn">TRUE</span>,                                <span class="co"># relaxed "TRUE"</span></span>
<span>   fixed <span class="op">=</span> <span class="cn">TRUE</span>,                                             <span class="co"># fixed treatment effect </span></span>
<span>   num_cl <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interpreting-the-output-1">Interpreting the output<a class="anchor" aria-label="anchor" href="#interpreting-the-output-1"></a>
</h3>
<p>After setting all these input parameters and running the function,
let’s take a look at the output of the program.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res2</span></span>
<span><span class="co">#&gt;        u Kappa  n2 n3   n  pgo sProg Delta1 Delta2 sigma1 sigma2 rho relaxed</span></span>
<span><span class="co">#&gt; 1 472.44  0.02 100 72 172 0.97  0.54    0.8   0.75      2      1 0.5    TRUE</span></span>
<span><span class="co">#&gt;     K   N    S  K2  K3 sProg1 sProg2 sProg3 steps1 stepm1 stepl1 alpha beta c02</span></span>
<span><span class="co">#&gt; 1 Inf Inf -Inf 175 218   0.24   0.28   0.02      0    0.5    0.8  0.05  0.1 100</span></span>
<span><span class="co">#&gt;   c03   c2 c3   b1   b2   b3</span></span>
<span><span class="co">#&gt; 1 150 0.75  1 1000 2000 3000</span></span></code></pre></div>
<p>The program returns a data frame, with the following results:</p>
<ul>
<li>
<code>res$n2</code> is the optimal number of participants for phase
II and <code>res$n3</code> the resulting number of events for phase III.
We see that the optimal scenario requires 100 participants in phase II
and 72 participants in phase III.</li>
<li>
<code>res$Kappa</code> is the optimal threshold value for the
go/no-go decision rule. We see that we need a hazard ratio of less than
0.02 in phase II in order to proceed to phase III.</li>
<li>
<code>res$u</code> is the expected utility of the program for the
optimal sample size and threshold value. In our case it amounts to
472.44, i.e. we have an expected utility of 47 244 000$.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="where-to-go-from-here">Where to go from here<a class="anchor" aria-label="anchor" href="#where-to-go-from-here"></a>
</h2>
<p>In this article we presented examples when multiple endpoints are of
interest.</p>
<p>For more information on how to use the package, see:</p>
<ul>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/Introduction-to-drugdevelopR.html"><em>Introduction
to drugdevelopR:</em></a> See how the package works in a basic
example.</li>
<li>
<em>Different outcomes:</em> Apply it to <a href="https://sterniii3.github.io/drugdevelopR/articles/Binary_outcomes.html">binary
endpoints</a> and <a href="https://sterniii3.github.io/drugdevelopR/articles/Time-to-event_outcomes.html">time-to-event
endpoints</a>.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/Interpreting_Output.html"><em>Interpreting
the rest of the output:</em></a> Obtain further details on your drug
development program.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/Fixed_and_prior_distributions.html"><em>Fixed
or prior:</em></a> Model the assumed treatment effect on a prior
distribution.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html"><em>More
parameters:</em></a> Define custom effect size categories. Put
constraints on the optimization by defining maximum costs, the total
expected sample size of the program or the minimum expected probability
of a successful program. Define an expected difference in treatment
effect between phase II and III. Skip phase II.</li>
<li>
<em>Complex drug development programs:</em> Adapt to situations with
<a href="https://sterniii3.github.io/drugdevelopR/articles/Bias_adjustment.html">biased
effect estimators</a>, <a href="https://sterniii3.github.io/drugdevelopR/articles/Multitrial.html">multiple
phase III trials</a> or <a href="https://sterniii3.github.io/drugdevelopR/articles/Multiarm_Trials.html">multi-arm
trials</a>.</li>
<li>
<a href="https://sterniii3.github.io/drugdevelopR/articles/More_Parameters.html#parallel-computing"><em>Parallel
computing:</em></a> Be faster at calculating the optimum by using
parallel computing.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Stella Erdmann, Johannes Cepicka, Lukas D. Sauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
